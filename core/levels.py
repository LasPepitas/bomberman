from core.enemy import EnemigoBasico, EnemigoInteligente, EnemigoAvanzado

def cargar_nivel(nivel, jugador, obtener_bombas, bombas, plantar_bomba_cb):
    niveles = {
        1: {
            "mapa": [
                "###################",
                "#    * *     *    #",
                "# # # # # # # # # #",
                "# *     *   *   * #",
                "# # # # # # # # # #",
                "#   *   *   *     #",
                "# # # # # # # # # #",
                "# *   *     *   * #",
                "# # # # # # # # # #",
                "#   *   *   *     #",
                "# # # # # # # # # #",
                "# *     *     *   #",
                "# # # # # # # # # #",
                "#     *     *     #",
                "###################"
            ],
            "enemigos": [
                ["basico", 11, 9],
                ["inteligente", 3, 11]
            ],
            "inicio_jugador": [1, 1]
        },
        2: {
            "mapa": [
                "###################",
                "# *   *   *   *   #",
                "# # # # # # # # # #",
                "#   *   *   *   * #",
                "# # # # # # # # # #",
                "# *   *   *   *   #",
                "# # # # # # # # # #",
                "#   *   *   *   * #",
                "# # # # # # # # # #",
                "# *   *   *   *   #",
                "# # # # # # # # # #",
                "#   *   *   *   * #",
                "# # # # # # # # # #",
                "# *   *   *   *   #",
                "###################"
            ],
            "enemigos": [
                ["basico", 5, 5],
                ["avanzado", 13, 11]
            ],
            "inicio_jugador": [1, 1]
        },
        3: {
            "mapa": [
                "###################",
                "# * *   * *   * * #",
                "# # # # # # # # # #",
                "#   * *   * *   * #",
                "# # # # # # # # # #",
                "# * *   * *   * * #",
                "# # # # # # # # # #",
                "#   * *   * *   * #",
                "# # # # # # # # # #",
                "# * *   * *   * * #",
                "# # # # # # # # # #",
                "#   * *   * *   * #",
                "# # # # # # # # # #",
                "# * *   * *   * * #",
                "###################"
            ],
            "enemigos": [
                ["avanzado", 15, 3],
                ["basico", 5, 11]
            ],
            "inicio_jugador": [1, 1]
        },
        4: {
            "mapa": [
                "###################",
                "#   *   *   *   * #",
                "# # # # # # # # # #",
                "# *   *   *   *   #",
                "# # # # # # # # # #",
                "#   *   *   *   * #",
                "# # # # # # # # # #",
                "# *   *   *   *   #",
                "# # # # # # # # # #",
                "#   *   *   *   * #",
                "# # # # # # # # # #",
                "# *   *   *   *   #",
                "# # # # # # # # # #",
                "#   *   *   *   * #",
                "###################"
            ],
            "enemigos": [
                ["avanzado", 13, 5],
                ["avanzado", 3, 9]
            ],
            "inicio_jugador": [1, 1]
        },
        5: {
            "mapa": [
                "###################",
                "# *   *   *   *   #",
                "# # # # # # # # # #",
                "# * * *   * * *   #",
                "# # # # # # # # # #",
                "#   * * *   * * * #",
                "# # # # # # # # # #",
                "# *   *   *   *   #",
                "# # # # # # # # # #",
                "# * * *   * * *   #",
                "# # # # # # # # # #",
                "#   * * *   * * * #",
                "# # # # # # # # # #",
                "# *   *   *   *   #",
                "###################"
            ],
            "enemigos": [
                ["basico", 3, 13],
                ["avanzado", 15, 7]
            ],
            "inicio_jugador": [1, 1]
        },
        6: {
            "mapa": [
                "###################",
                "# *   *   *   *   #",
                "# # # # # # # # # #",
                "#   *   *   *   * #",
                "# # # # # # # # # #",
                "# *   *   *   *   #",
                "# # # # # # # # # #",
                "#   *   *   *   * #",
                "# # # # # # # # # #",
                "# *   *   *   *   #",
                "# # # # # # # # # #",
                "#   *   *   *   * #",
                "# # # # # # # # # #",
                "# *   *   *   *   #",
                "###################"
            ],
            "enemigos": [
                ["basico", 9, 5],
                ["avanzado", 11, 11]
            ],
            "inicio_jugador": [1, 1]
        },
        7: {
            "mapa": [
                "###################",
                "# * *   * *   * * #",
                "# # # # # # # # # #",
                "#   * *   * *   * #",
                "# # # # # # # # # #",
                "# * *   * *   * * #",
                "# # # # # # # # # #",
                "#   * *   * *   * #",
                "# # # # # # # # # #",
                "# * *   * *   * * #",
                "# # # # # # # # # #",
                "#   * *   * *   * #",
                "# # # # # # # # # #",
                "# * *   * *   * * #",
                "###################"
            ],
            "enemigos": [
                ["avanzado", 3, 3],
                ["avanzado", 15, 11]
            ],
            "inicio_jugador": [1, 1]
        },
        8: {
            "mapa": [
                "###################",
                "# *   * *   * *   #",
                "# # # # # # # # # #",
                "#   * *   * *   * #",
                "# # # # # # # # # #",
                "# * *   * *   *   #",
                "# # # # # # # # # #",
                "#   * *   *   * * #",
                "# # # # # # # # # #",
                "# *   *   * *   * #",
                "# # # # # # # # # #",
                "# *   * *   *   * #",
                "# # # # # # # # # #",
                "#   * *   * *   * #",
                "###################"
            ],
            "enemigos": [
                ["basico", 13, 3],
                ["avanzado", 5, 11]
            ],
            "inicio_jugador": [1, 1]
        },
        9: {
            "mapa": [
                "###################",
                "# *   *   *   *   #",
                "# # # # # # # # # #",
                "# *   *   *   *   #",
                "# # # # # # # # # #",
                "# *   *   *   *   #",
                "# # # # # # # # # #",
                "# *   *   *   *   #",
                "# # # # # # # # # #",
                "# *   *   *   *   #",
                "# # # # # # # # # #",
                "# *   *   *   *   #",
                "# # # # # # # # # #",
                "# *   *   *   *   #",
                "###################"
            ],
            "enemigos": [
                ["basico", 7, 7],
                ["avanzado", 11, 9]
            ],
            "inicio_jugador": [1, 1]
        },
        10: {
            "mapa": [
                "###################",
                "#   * *   * *   * #",
                "# # # # # # # # # #",
                "# *   *   *   *   #",
                "# # # # # # # # # #",
                "#   *   *   *   * #",
                "# # # # # # # # # #",
                "# * *   * *   * * #",
                "# # # # # # # # # #",
                "#   *   *   *   * #",
                "# # # # # # # # # #",
                "# *   *   *   *   #",
                "# # # # # # # # # #",
                "#   *   *   *   * #",
                "###################"
            ],
            "enemigos": [
                ["avanzado", 13, 5],
                ["avanzado", 7, 11]
            ],
            "inicio_jugador": [1, 1]
        }
    }

    datos = niveles.get(nivel)
    if not datos:
        return None

    mapa = [list(fila) for fila in datos["mapa"]]
    jugador.x, jugador.y = datos["inicio_jugador"]

    enemigos = []
    for tipo, x, y in datos["enemigos"]:
        if tipo == "basico":
            enemigos.append(EnemigoBasico(x, y, mapa, obtener_bombas=obtener_bombas))
        elif tipo == "inteligente":
            enemigos.append(EnemigoInteligente(x, y, mapa, jugador, obtener_bombas=obtener_bombas))
        elif tipo == "avanzado":
            enemigos.append(EnemigoAvanzado(x, y, mapa, jugador, obtener_bombas=bombas, plantar_bomba_cb=plantar_bomba_cb))

    return mapa, enemigos
